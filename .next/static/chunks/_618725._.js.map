{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/karolita/Documents/GitHub/B-Ride-The-Ride-Sharing-App-for-Bruins/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function EditProfilePage() {\n  const router = useRouter();\n\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    bio: \"\",\n    profilePic: \"\",\n    preferences: {\n      language: \"\",\n      ridePreference: \"\",\n    },\n  });\n\n  useEffect(() => {\n    const userEmail = localStorage.getItem(\"userEmail\") || \"k\"; // Ensure correct user identification\n\n    fetch(`http://localhost:5001/users/email/${userEmail}`)\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(`HTTP error! Status: ${res.status}`);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        console.log(\"Fetched user data:\", data); // Debugging log\n\n        setUser({\n          name: data.name,\n          email: data.email,\n          bio: data.bio || \"\",\n          profilePic: data.profile_picture || \"/default-avatar.png\",\n          preferences: {\n            language: data.language || \"\",\n            ridePreference: data.ride_preference || \"\",\n          },\n        });\n      })\n      .catch((error) => console.error(\"Failed to fetch profile:\", error));\n  }, []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target;\n    setUser((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(`http://localhost:5001/users/update/${user.email}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name: user.name,\n          bio: user.bio,\n          language: user.preferences.language,\n          ride_preference: user.preferences.ridePreference,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to update profile\");\n      }\n\n      alert(\"Profile updated successfully!\");\n      router.push(\"/profile\"); // Redirect to profile page\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6 text-black\">\n      <h1 className=\"text-2xl font-bold text-black\">Edit Your Profile</h1>\n\n      <form onSubmit={handleSubmit} className=\"bg-white shadow-lg rounded-lg p-6 w-full max-w-md text-black\">\n        {/* Profile Image */}\n        <div className=\"flex justify-center mb-4\">\n          <img src={user.profilePic} alt=\"Profile\" className=\"w-24 h-24 rounded-full border\" />\n        </div>\n\n        {/* Name */}\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={user.name}\n          onChange={handleChange}\n          className=\"w-full p-2 border rounded mb-3 text-black placeholder-gray-500\"\n          placeholder=\"Enter your name\"\n        />\n\n        {/* Bio */}\n        <textarea\n          name=\"bio\"\n          value={user.bio}\n          onChange={handleChange}\n          className=\"w-full p-2 border rounded mb-3 text-black placeholder-gray-500\"\n          placeholder=\"Enter your bio\"\n        ></textarea>\n\n        {/* Language */}\n        <input\n          type=\"text\"\n          name=\"language\"\n          value={user.preferences.language}\n          onChange={(e) =>\n            setUser((prev) => ({\n              ...prev,\n              preferences: { ...prev.preferences, language: e.target.value },\n            }))\n          }\n          className=\"w-full p-2 border rounded mb-3 text-black placeholder-gray-500\"\n          placeholder=\"Preferred Language\"\n        />\n\n        {/* Ride Preference */}\n        <input\n          type=\"text\"\n          name=\"ridePreference\"\n          value={user.preferences.ridePreference}\n          onChange={(e) =>\n            setUser((prev) => ({\n              ...prev,\n              preferences: { ...prev.preferences, ridePreference: e.target.value },\n            }))\n          }\n          className=\"w-full p-2 border rounded mb-3 text-black placeholder-gray-500\"\n          placeholder=\"Ride Preference\"\n        />\n\n        {/* Save Button */}\n        <button type=\"submit\" className=\"w-full bg-blue-500 text-white p-2 rounded\">\n          Save Changes\n        </button>\n\n        {/* Back Button */}\n        <button\n          type=\"button\"\n          className=\"w-full mt-3 bg-gray-500 text-white p-2 rounded\"\n          onClick={() => router.push(\"/profile\")}\n        >\n          Back to Profile\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/karolita/Documents/GitHub/B-Ride-The-Ride-Sharing-App-for-Bruins/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}