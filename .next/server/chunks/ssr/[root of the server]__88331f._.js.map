{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/karolita/Documents/GitHub/B-Ride-The-Ride-Sharing-App-for-Bruins/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\n\ninterface Preferences {\n  language?: string;\n  ridePreference?: string;\n}\n\ninterface User {\n  id?: string; // Ensure ID is part of state\n  name: string;\n  email: string;\n  bio: string;\n  profilePic: string;\n  preferences: Preferences;\n  rating?: number;\n  ridesTaken?: number;\n}\n\nexport default function ProfilePage() {\n  const router = useRouter();\n\n\n  const [user, setUser] = useState<User>({\n    id: \"\", // Ensure ID is part of state\n    name: \"\",\n    email: \"\",\n    bio: \"\",\n    profilePic: \"\",\n    preferences: {\n      language: \"\",\n      ridePreference: \"\",\n    },\n  });\n\n  useEffect(() => {\n    const userEmail = localStorage.getItem(\"userEmail\") || \"k\"; // Use actual logged-in user's email\n\n    fetch(`http://localhost:5001/users/email/${userEmail}`)\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(`HTTP error! Status: ${res.status}`);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        console.log(\"Fetched user data:\", data); // âœ… Debugging log\n\n        setUser({\n          id: data.id, // Ensure ID is included\n          name: data.name,\n          email: data.email,\n          bio: data.bio || \"No bio set\",\n          profilePic: data.profile_picture || \"/default-avatar.png\",\n          preferences: {\n            language: data.language || \"English\",\n            ridePreference: data.ride_preference || \"Comfort\",\n          },\n          rating: data.rating ?? \"N/A\",\n          ridesTaken: data.rides_taken ?? 0,\n        });\n      })\n      .catch((error) => console.error(\"Failed to fetch profile:\", error));\n  }, []);\n\n  return (\n    <div className=\"flex flex-col items-center min-h-screen bg-gradient-to-b from-[#3268B7] to-[#1A437A] p-6\">\n      {/* Profile Header */}\n      <div className=\"relative w-full max-w-md bg-white shadow-lg rounded-lg text-center pb-6\">\n        {/* Background header (now blue) */}\n        <div className=\"bg-gradient-to-r from-[#3268B7] to-[#1A437A] h-28 rounded-t-lg\"></div>\n\n        {/* Profile Image */}\n        <div className=\"relative -top-10 flex justify-center\">\n          <Image\n            src={user.profilePic && user.profilePic !== \"\" ? user.profilePic : \"/default-avatar.png\"}\n            alt=\"Profile Picture\"\n            width={90}\n            height={90}\n            className=\"rounded-full border-4 border-white shadow-md\"\n          />\n        </div>\n\n        {/* Name and Bio */}\n        <h1 className=\"text-xl font-bold text-black mt-2\">{user.name || \"N/A\"}</h1>\n        <p className=\"text-sm text-gray-600 px-4\">{user.bio || \"No bio set\"}</p>\n\n        {/* Statistics */}\n        <div className=\"flex justify-around mt-4 px-6 text-gray-700\">\n          <div className=\"text-center\">\n            <p className=\"text-lg font-semibold\">{user.ridesTaken || 0}</p>\n            <p className=\"text-sm\">Rides Taken</p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-lg font-semibold\">{user.rating ? user.rating.toFixed(1) : \"N/A\"}</p>\n            <p className=\"text-sm\">Rating</p>\n          </div>\n        </div>\n\n        {/* Buttons */}\n        <div className=\"mt-4 flex justify-center gap-4\">\n          {/* <button className=\"bg-red-500 text-white px-4 py-2 rounded-lg shadow hover:bg-red-600\">\n            Follow\n          </button> */}\n          {/* <button className=\"bg-gray-500 text-white px-4 py-2 rounded-lg shadow hover:bg-gray-600\">\n            Message\n          </button> */}\n        </div>\n\n        {/* Preferences */}\n        <div className=\"mt-6 text-sm text-gray-700\">\n          <p>\n            <strong>Language:</strong> {user.preferences.language || \"English\"}\n          </p>\n          <p>\n            <strong>Ride Preference:</strong> {user.preferences.ridePreference || \"Comfort\"}\n          </p>\n        </div>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"mt-4 flex justify-center gap-4\">\n  <button\n    className=\"px-6 py-1.5 bg-gradient-to-r from-[#172554] to-[#2563eb] hover:opacity-90 text-white shadow-md rounded-full text-base font-medium max-w-xs\"\n    onClick={() => router.push(\"/dashboard\")}\n  >\n    Back to Dashboard\n  </button>\n  <button\n    className=\"px-6 py-1.5 bg-gradient-to-r from-[#172554] to-[#2563eb] hover:opacity-90 text-white shadow-md rounded-full text-base font-medium max-w-xs\"\n    onClick={() => router.push(\"/profileapp\")}\n  >\n    Edit Profile\n  </button>\n</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAsBe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAGvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAQ;QACrC,IAAI;QACJ,MAAM;QACN,OAAO;QACP,KAAK;QACL,YAAY;QACZ,aAAa;YACX,UAAU;YACV,gBAAgB;QAClB;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY,aAAa,OAAO,CAAC,gBAAgB,KAAK,oCAAoC;QAEhG,MAAM,CAAC,kCAAkC,EAAE,WAAW,EACnD,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,IAAI,MAAM,EAAE;YACrD;YACA,OAAO,IAAI,IAAI;QACjB,GACC,IAAI,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC,sBAAsB,OAAO,kBAAkB;YAE3D,QAAQ;gBACN,IAAI,KAAK,EAAE;gBACX,MAAM,KAAK,IAAI;gBACf,OAAO,KAAK,KAAK;gBACjB,KAAK,KAAK,GAAG,IAAI;gBACjB,YAAY,KAAK,eAAe,IAAI;gBACpC,aAAa;oBACX,UAAU,KAAK,QAAQ,IAAI;oBAC3B,gBAAgB,KAAK,eAAe,IAAI;gBAC1C;gBACA,QAAQ,KAAK,MAAM,IAAI;gBACvB,YAAY,KAAK,WAAW,IAAI;YAClC;QACF,GACC,KAAK,CAAC,CAAC,QAAU,QAAQ,KAAK,CAAC,4BAA4B;IAChE,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;;;;;kCAGf,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;4BACJ,KAAK,KAAK,UAAU,IAAI,KAAK,UAAU,KAAK,KAAK,KAAK,UAAU,GAAG;4BACnE,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;;;;;;kCAKd,8OAAC;wBAAG,WAAU;kCAAqC,KAAK,IAAI,IAAI;;;;;;kCAChE,8OAAC;wBAAE,WAAU;kCAA8B,KAAK,GAAG,IAAI;;;;;;kCAGvD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAyB,KAAK,UAAU,IAAI;;;;;;kDACzD,8OAAC;wCAAE,WAAU;kDAAU;;;;;;;;;;;;0CAEzB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAyB,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;kDAC7E,8OAAC;wCAAE,WAAU;kDAAU;;;;;;;;;;;;;;;;;;kCAK3B,8OAAC;wBAAI,WAAU;;;;;;kCAUf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;kDAAO;;;;;;oCAAkB;oCAAE,KAAK,WAAW,CAAC,QAAQ,IAAI;;;;;;;0CAE3D,8OAAC;;kDACC,8OAAC;kDAAO;;;;;;oCAAyB;oCAAE,KAAK,WAAW,CAAC,cAAc,IAAI;;;;;;;;;;;;;;;;;;;0BAM5E,8OAAC;gBAAI,WAAU;;kCACnB,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,OAAO,IAAI,CAAC;kCAC5B;;;;;;kCAGD,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,OAAO,IAAI,CAAC;kCAC5B;;;;;;;;;;;;;;;;;;AAMH"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}