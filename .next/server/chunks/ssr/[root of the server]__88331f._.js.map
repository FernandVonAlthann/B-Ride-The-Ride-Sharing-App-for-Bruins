{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/karolita/Documents/GitHub/B-Ride-The-Ride-Sharing-App-for-Bruins/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\n\ninterface Preferences {\n  language?: string;\n  ridePreference?: string;\n}\n\ninterface User {\n  id?: string;\n  name: string;\n  email: string;\n  bio: string;\n  profilePic: string;\n  preferences: Preferences;\n  rating?: number;\n  ridesTaken?: number;\n}\n\nexport default function ProfilePage() {\n  const router = useRouter();\n  const [user, setUser] = useState<User>({\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    bio: \"\",\n    profilePic: \"\",\n    preferences: {\n      language: \"\",\n      ridePreference: \"\",\n    },\n  });\n\n  useEffect(() => {\n    const fetchUserProfile = () => {\n      const userEmail = localStorage.getItem(\"userEmail\");\n\n      if (!userEmail) {\n        console.error(\"No user email found in localStorage\");\n        return;\n      }\n\n      fetch(`http://localhost:5001/users/email/${userEmail}`)\n        .then((res) => res.json())\n        .then((data) => {\n          if (data) {\n            const updatedUser = {\n              id: data.id,\n              name: data.name,\n              email: data.email,\n              bio: data.bio || \"No bio set\",\n              profilePic: data.profile_picture || \"/default-avatar.png\",\n              preferences: {\n                language: data.language || \"English\",\n                ridePreference: data.ride_preference || \"Comfort\",\n              },\n              rating: data.rating ?? \"N/A\",\n              ridesTaken: data.rides_taken ?? 0,\n            };\n\n            setUser(updatedUser);\n            localStorage.setItem(\"user\", JSON.stringify(updatedUser));\n            window.dispatchEvent(new Event(\"storage\"));\n          }\n        })\n        .catch((error) => console.error(\"Failed to fetch profile:\", error));\n    };\n\n    fetchUserProfile();\n    window.addEventListener(\"storage\", fetchUserProfile);\n\n    return () => {\n      window.removeEventListener(\"storage\", fetchUserProfile);\n    };\n  }, []);\n\n  return (\n    <div className=\"flex flex-col items-center min-h-screen bg-gradient-to-b from-[#3268B7] to-[#1A437A] p-6\">\n      <div className=\"relative w-full max-w-md bg-white shadow-lg rounded-lg text-center pb-6\">\n        <div className=\"bg-gradient-to-r from-[#3268B7] to-[#1A437A] h-28 rounded-t-lg\"></div>\n\n        <div className=\"relative -top-10 flex justify-center\">\n          <Image\n            src={user.profilePic || \"/default-avatar.png\"}\n            alt=\"Profile Picture\"\n            width={90}\n            height={90}\n            className=\"rounded-full border-4 border-white shadow-md\"\n          />\n        </div>\n\n        <h1 className=\"text-xl font-bold text-black mt-2\">{user.name || \"N/A\"}</h1>\n        <p className=\"text-sm text-gray-600 px-4\">{user.bio || \"No bio set\"}</p>\n\n        <div className=\"flex justify-around mt-4 px-6 text-gray-700\">\n          <div className=\"text-center\">\n            <p className=\"text-lg font-semibold\">{user.ridesTaken || 0}</p>\n            <p className=\"text-sm\">Rides Taken</p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-lg font-semibold\">{user.rating ? user.rating.toFixed(1) : \"N/A\"}</p>\n            <p className=\"text-sm\">Rating</p>\n          </div>\n        </div>\n\n        <div className=\"mt-6 text-sm text-gray-700\">\n          <p>\n            <strong>Language:</strong> {user.preferences.language || \"English\"}\n          </p>\n          <p>\n            <strong>Ride Preference:</strong> {user.preferences.ridePreference || \"Comfort\"}\n          </p>\n        </div>\n\n        <div className=\"mt-4 flex justify-center gap-4\">\n          <button className=\"px-6 py-1.5 bg-gradient-to-r from-[#172554] to-[#2563eb] text-white shadow-md rounded-full\" onClick={() => router.push(\"/dashboard\")}>\n            Back to Dashboard\n          </button>\n          <button className=\"px-6 py-1.5 bg-gradient-to-r from-[#172554] to-[#2563eb] text-white shadow-md rounded-full\" onClick={() => router.push(\"/profileapp\")}>\n            Edit Profile\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAsBe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAQ;QACrC,IAAI;QACJ,MAAM;QACN,OAAO;QACP,KAAK;QACL,YAAY;QACZ,aAAa;YACX,UAAU;YACV,gBAAgB;QAClB;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,mBAAmB;YACvB,MAAM,YAAY,aAAa,OAAO,CAAC;YAEvC,IAAI,CAAC,WAAW;gBACd,QAAQ,KAAK,CAAC;gBACd;YACF;YAEA,MAAM,CAAC,kCAAkC,EAAE,WAAW,EACnD,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;gBACL,IAAI,MAAM;oBACR,MAAM,cAAc;wBAClB,IAAI,KAAK,EAAE;wBACX,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;wBACjB,KAAK,KAAK,GAAG,IAAI;wBACjB,YAAY,KAAK,eAAe,IAAI;wBACpC,aAAa;4BACX,UAAU,KAAK,QAAQ,IAAI;4BAC3B,gBAAgB,KAAK,eAAe,IAAI;wBAC1C;wBACA,QAAQ,KAAK,MAAM,IAAI;wBACvB,YAAY,KAAK,WAAW,IAAI;oBAClC;oBAEA,QAAQ;oBACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;oBAC5C,OAAO,aAAa,CAAC,IAAI,MAAM;gBACjC;YACF,GACC,KAAK,CAAC,CAAC,QAAU,QAAQ,KAAK,CAAC,4BAA4B;QAChE;QAEA;QACA,OAAO,gBAAgB,CAAC,WAAW;QAEnC,OAAO;YACL,OAAO,mBAAmB,CAAC,WAAW;QACxC;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;;;;;8BAEf,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAK,KAAK,UAAU,IAAI;wBACxB,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;8BAId,8OAAC;oBAAG,WAAU;8BAAqC,KAAK,IAAI,IAAI;;;;;;8BAChE,8OAAC;oBAAE,WAAU;8BAA8B,KAAK,GAAG,IAAI;;;;;;8BAEvD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAyB,KAAK,UAAU,IAAI;;;;;;8CACzD,8OAAC;oCAAE,WAAU;8CAAU;;;;;;;;;;;;sCAEzB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAyB,KAAK,MAAM,GAAG,KAAK,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;8CAC7E,8OAAC;oCAAE,WAAU;8CAAU;;;;;;;;;;;;;;;;;;8BAI3B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;8CAAO;;;;;;gCAAkB;gCAAE,KAAK,WAAW,CAAC,QAAQ,IAAI;;;;;;;sCAE3D,8OAAC;;8CACC,8OAAC;8CAAO;;;;;;gCAAyB;gCAAE,KAAK,WAAW,CAAC,cAAc,IAAI;;;;;;;;;;;;;8BAI1E,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAO,WAAU;4BAA6F,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAe;;;;;;sCAGzJ,8OAAC;4BAAO,WAAU;4BAA6F,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;AAOpK"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}