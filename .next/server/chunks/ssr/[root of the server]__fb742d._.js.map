{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/karolita/Documents/GitHub/B-Ride-The-Ride-Sharing-App-for-Bruins/src/components/ui/button.tsx"],"sourcesContent":["import React from 'react';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {}\n\nexport const Button: React.FC<ButtonProps> = ({ children, className, ...props }) => {\n  return (\n    <button {...props} className={className}>\n      {children}\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;;AAIO,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,OAAO;IAC7E,qBACE,8OAAC;QAAQ,GAAG,KAAK;QAAE,WAAW;kBAC3B;;;;;;AAGP"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/karolita/Documents/GitHub/B-Ride-The-Ride-Sharing-App-for-Bruins/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\n\ninterface Ride {\n  from: string;\n  to: string;\n  time: string;\n}\n\nexport default function Dashboard() {\n  const router = useRouter();\n  const [user, setUser] = useState<{ id?: string; name?: string; profilePic?: string; email?: string }>({});\n  const [rides, setRides] = useState<Ride[]>([]);\n\n  useEffect(() => {\n    const fetchUserData = () => {\n      let userEmail = localStorage.getItem(\"userEmail\") ?? \"\"; // Ensure it's always a string\n\n      if (!userEmail) {\n        console.warn(\"No user email found in localStorage. Attempting to get from 'user'...\");\n        const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n\n        if (storedUser?.email) {\n          userEmail = storedUser.email;\n          localStorage.setItem(\"userEmail\", userEmail); // Fix missing email issue\n        } else {\n          console.error(\"No valid user data found. Redirecting to login...\");\n          router.push(\"/login\"); // Force login if user data is missing\n          return;\n        }\n      }\n\n      fetch(`http://localhost:5001/users/email/${encodeURIComponent(userEmail)}`) // Ensure safe URL encoding\n        .then((res) => res.json())\n        .then((data) => {\n          if (data && data.id) {\n            localStorage.setItem(\"user\", JSON.stringify(data));\n            setUser(data);\n          } else {\n            console.error(\"Fetched user data is invalid. Logging out...\");\n            handleLogout(); // If invalid data, force logout\n          }\n        })\n        .catch((error) => console.error(\"Failed to fetch user:\", error));\n    };\n\n    fetchUserData();\n    window.addEventListener(\"storage\", fetchUserData);\n\n    return () => {\n      window.removeEventListener(\"storage\", fetchUserData);\n    };\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userEmail\");\n    window.dispatchEvent(new Event(\"storage\"));\n    router.push(\"/login\");\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gradient-to-br from-[#4D9FFF] to-[#020B3B] text-white\">\n      {/* Sidebar */}\n      <aside className=\"w-64 bg-[#F0F4F8] text-gray-900 shadow-xl flex flex-col items-center p-6 rounded-r-3xl\">\n        {/* Profile Picture */}\n        <Image\n          src={user.profilePic || \"/default-avatar.png\"}\n          alt=\"Profile Picture\"\n          width={150}\n          height={100}\n          className=\"rounded-full border-4 border-gray-300 shadow-lg\"\n        />\n        <h2 className=\"text-lg font-semibold mt-3\">{user.name || \"User\"}</h2>\n        <p className=\"text-sm text-gray-500\">{user.email || \"No email\"}</p>\n\n        {/* Sidebar Navigation */}\n        <nav className=\"mt-6 w-full space-y-2\">\n          <Button className=\"w-full bg-gradient-to-r from-[#172554] to-[#2563eb] hover:opacity-90 text-white shadow-md rounded-full py-2 text-sm font-medium\" onClick={() => router.push(\"/profile\")}>\n            View Profile\n          </Button>\n          <Button className=\"w-full bg-gradient-to-r from-[#4D9FFF] to-[#1E3A8A] hover:opacity-90 text-white shadow-md rounded-full py-2 text-sm font-medium\" onClick={() => router.push(\"/ride-history\")}>\n            Ride History\n          </Button>\n        </nav>\n\n        {/* Emergency Contact & Logout (Now At Bottom) */}\n        <div className=\"mt-auto w-full space-y-2\">\n          <Button className=\"w-full bg-[#FF6B6B] hover:bg-[#D2665A] text-white shadow-md rounded-full py-2 text-sm font-medium\" onClick={() => router.push(\"/emergency-contact\")}>\n            ðŸš¨ Emergency Contact\n          </Button>\n          <Button className=\"w-full bg-gradient-to-r hover:bg-[#4D9FFF] to-[#D4A017] text-white shadow-md rounded-full py-2 text-sm font-medium\" onClick={() => router.push(\"/settings\")}>\n            Settings\n          </Button>\n          <Button\n            className=\"w-full bg-gradient-to-r from-[#4D9FFF] to-[#D4A017] text-white shadow-md rounded-full py-2 text-sm font-medium\"\n            onClick={handleLogout}\n          >\n            Logout\n          </Button>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <div className=\"flex-1 p-8\">\n        {/* Header */}\n        <h1 className=\"text-4xl font-bold tracking-tight\">Welcome, {user.name || \"User\"}! ðŸš—</h1>\n        <p className=\"text-md text-gray-300 mt-2\">Ready to ride?</p>\n\n        {/* Quick Action Buttons */}\n        <div className=\"grid grid-cols-2 gap-4 mt-6\">\n          <Button className=\"bg-[#E6B400] hover:bg-[#D4A017] text-black text-md font-semibold shadow-md rounded-full py-3\" onClick={() => router.push(\"/find-ride\")}>\n            Find a Ride\n          </Button>\n          <Button className=\"bg-[#2563EB] hover:bg-[#1E3A8A] text-white text-md font-semibold shadow-md rounded-full py-3\" onClick={() => router.push(\"/offer-ride\")}>\n            Offer a Ride\n          </Button>\n          <Button className=\"bg-[#4D9FFF] hover:bg-[#2563eb] text-white text-md font-semibold shadow-md rounded-full py-3\" onClick={() => router.push(\"/forum\")}>\n            Forum\n          </Button>\n          <Button className=\"bg-[#E6B400] hover:bg-[#D4A017] text-black text-md font-semibold shadow-md rounded-full py-3\" onClick={() => router.push(\"/messages\")}>\n            Direct Messages\n          </Button>\n          <Button className=\"col-span-2 bg-[#172554] hover:bg-[#1E3A8A] text-white text-md font-semibold shadow-md rounded-full py-3\" onClick={() => router.push(\"/map\")}>\n            View Map\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}